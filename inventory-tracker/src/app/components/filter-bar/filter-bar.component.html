<div class="filter-bar">
  <div class="filter-container">
    <!-- Search Input -->
    <mat-form-field class="search-field" appearance="outline">
      <mat-icon matPrefix>search</mat-icon>
      <input 
        matInput 
        #searchInput
        [formControl]="filterForm.controls.searchTerm"
        placeholder="Search by name or SKU... (Ctrl+F)">
      @if (filterForm.controls.searchTerm.value) {
        <button 
          matSuffix 
          mat-icon-button 
          aria-label="Clear" 
          (click)="filterForm.controls.searchTerm.setValue('')">
          <mat-icon>close</mat-icon>
        </button>
      }
    </mat-form-field>

    <!-- Category Filter -->
    <mat-form-field class="category-field" appearance="outline">
      <mat-label>Category</mat-label>
      <mat-select [formControl]="filterForm.controls.category">
        @for (category of categories; track category) {
          <mat-option [value]="category">
            {{ category === 'all' ? 'All Categories' : category }}
          </mat-option>
        }
      </mat-select>
    </mat-form-field>

    <!-- Stock Status Filter -->
    <mat-form-field class="status-field" appearance="outline">
      <mat-label>Stock Status</mat-label>
      <mat-select [formControl]="filterForm.controls.stockStatus">
        @for (status of stockStatuses; track status.value) {
          <mat-option [value]="status.value">
            {{ status.label }}
          </mat-option>
        }
      </mat-select>
    </mat-form-field>

    <!-- Clear Filters -->
    @if (hasActiveFilters()) {
      <button 
        mat-stroked-button 
        class="clear-btn"
        (click)="clearFilters()">
        <mat-icon>filter_alt_off</mat-icon>
        Clear Filters
      </button>
    }
  </div>
</div>
